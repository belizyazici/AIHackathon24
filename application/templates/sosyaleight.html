<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ders Odam</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/stylesosyal.css') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"> <!-- Font Awesome Kütüphanesi -->
</head>
<body>
    <header>
        <h1 class="logo"><a href="website.html" class="header-link">Ders Odam</a></h1>
        <nav>
            <ul class="menu">
                <li class="dropdown">
                    <a href="#" class="dropbtn">Sınıflar</a>
                    <div class="dropdown-content">
                        <a href="{{ url_for('fifth') }}">5. Sınıf</a>
                        <a href="{{ url_for('sixth') }}">6. Sınıf</a>
                        <a href="{{ url_for('seventh') }}">7. Sınıf</a>
                        <a href="{{ url_for('eighth') }}">8. Sınıf</a>
                    </div>
                </li>
            </ul>
            
        </nav>
    </header>
    
    <main>
        <div class="container">
            <div class="units-section">
                <h2>Üniteler</h2>
                <div class="unit" onclick="toggleTopics('unit1')">
                    <h3>1. Ünite</h3>
                    <div class="topics" id="unit1" style="display: none;">
                        <ul>
                            <li><button onclick="playVideo('TYim-AzUpxs')">Güçlü Avrupa'nın Doğuşu veOsmanlı Devleti</button></li>
                            <li><button onclick="playVideo('yxGbK0udAD0')">Mustafa Kemal'in Ailesi Çocukluğu</button></li>
                            <li><button onclick="playVideo('jxxRfrwlJDg')">Mustafa Kemal'in Eğitim Hayatı</button></li>
                            <li><button onclick="playVideo('gHq-qLTILQo')">Bir Kah. Doğ. Mustafa Kemal'in Fikir Hayatı</button></li>
                            <li><button onclick="playVideo('Hr_0trSeQnM')">Bir Kah. Doğ. Mustafa Kemal'in Askerlik Hayatı</button></li>
                            <li><button onclick="playVideo('3r81CuQIR7k')">Mustafa Kemal'in Kişilik Özellikleri</button></li>
                        </ul>
                    </div>
                </div>
                <div class="unit" onclick="toggleTopics('unit2')">
                    <h3>2. Ünite</h3>
                    <div class="topics" id="unit2" style="display: none;">
                        <ul>
                            <li><button onclick="playVideo('_mghS8ii7l8')">Birinci Dünya Savaşı</button></li>
                            <li><button onclick="playVideo('KlEIqydK2Jc')">Devletler Arası Bloklaşmalar</button></li>
                            <li><button onclick="playVideo('68yfTYP8WV0')">Birinci Dünya Savaşı ve Osmanlı Devleti</button></li>
                            <li><button onclick="playVideo('DmB_-kpY1QU')">Mondros Ateşkes Antlaşması</button></li>
                            <li><button onclick="playVideo('jP0-S5mbIvc')">Paris Barış Konferansı ve İzmir'in İşgali</button></li>
                        </ul>
                    </div>
                </div>
                <div class="unit" onclick="toggleTopics('unit3')">
                    <h3>3. Ünite</h3>
                    <div class="topics" id="unit3" style="display: none;">
                        <ul>
                            <li><button onclick="playVideo('uG7wrIOpL00')">Kurtuluş Savaşında Cepheler</button></li>
                            <li><button onclick="playVideo('naYSlkTR4ds')">İstiklal Marşı'nın Kabulü</button></li>
                            <li><button onclick="playVideo('rnZuzQCUs5c')">İkinci İnönü Savaşı</button></li>
                            <li><button onclick="playVideo('MJoLoRXTG-Y')">Sakarya Meydan Muharebesi</button></li>
                            <li><button onclick="playVideo('tLGbfH1PneU')">Büyük Taarruz ve Başkomutanlık Meydan Muharebesi</button></li>
                            <li><button onclick="playVideo('Oq0HXDaCjck')">Lozan Barış Antlaşması</button></li>
                        </ul>
                    </div>
                </div>
                <div class="unit" onclick="toggleTopics('unit4')">
                    <h3>4. Ünite</h3>
                    <div class="topics" id="unit4" style="display: none;">
                        <ul>
                            <li><button onclick="playVideo('mgVD7RRD6_U')">Cumhuriyetçilik</button></li>
                            <li><button onclick="playVideo('bNeTlpIx254')">Milliyetçilik</button></li>
                            <li><button onclick="playVideo('GpluLSC_S4A')">Halkçılık</button></li>
                            <li><button onclick="playVideo('LPMWLNg5Zjg')">Devletçilik</button></li>
                            <li><button onclick="playVideo('-215YcUUnlQ')">Laiklik</button></li>
                            <li><button onclick="playVideo('tkITSJ19oOU')">İnkılapçılık</button></li>
                        </ul>
                    </div>
                </div>
                <div class="unit" onclick="toggleTopics('unit5')">
                    <h3>5. Ünite</h3>
                    <div class="topics" id="unit5" style="display: none;">
                        <ul>
                            <li><button onclick="playVideo('IofnKr5Cwbg')">Üretim, Dağıtım ve Tüketim</button></li>
                            <li><button onclick="playVideo('-2CUT-fTHi0')">Ekonomi ve Sosyal Hayat</button></li>
                        
                        </ul>
                    </div>
                </div>
                <div class="unit" onclick="toggleTopics('unit6')">
                    <h3>6. Ünite</h3>
                    <div class="topics" id="unit6" style="display: none;">
                        <ul>
                            <li><button onclick="playVideo('TtmUOGp1sXA')">Etkin Vatandaşlık</button></li>
                            <li><button onclick="playVideo('ov61AhgWv0U')">Katılım Hakkı ve Düşünce Özgürlüğü</button></li>
                            <li><button onclick="playVideo('_ezg0q1llTg')">Egemenlik ve Bağımsızlık Sembollerimiz</button></li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="video-section">
                <h2>Video Oynatıcı</h2>
                <iframe id="videoPlayer" width="560" height="315" src="https://www.youtube.com/embed/VIDEO_ID" frameborder="0" allowfullscreen></iframe>          
            </div>

            <div class="chat-section">
                <h2 class="chat-title">ChatBot</h2>
                <div class="chat-container">
                    <div class="messages" id="messages"></div>
                    <input type="text" id="userInput" placeholder="Soru yazın..." style="width: 95%; padding: 8px;">
                    <button onclick="sendMessage()">Gönder</button>
                    <button onclick="goToHomePage()">Ana Sayfaya Dön</button>
                </div>
            </div>
            
            <script>
function goToHomePage() {
    window.location.href = "{{ url_for('home') }}"; 
}

function toggleTopics(unitId) {
            const topics = document.getElementById(unitId);
            if (topics.style.display === "none") {
                topics.style.display = "block";
            } else {
                topics.style.display = "none";
            }
        }

        function playVideo(videoId) {
            const videoPlayer = document.getElementById('videoPlayer');
            videoPlayer.src = `https://www.youtube.com/embed/${videoId}`;
        }

    function appendMessage(text, sender) {
        const messageContainer = document.getElementById("messages");
        const message = document.createElement("div");
        message.classList.add("message", sender);
        message.textContent = text;
        messageContainer.appendChild(message);
        messageContainer.scrollTop = messageContainer.scrollHeight;
    }

    async function sendMessage() {
        const userInput = document.getElementById("userInput").value;
        if (!userInput) return;

        appendMessage(userInput, "user");
        document.getElementById("userInput").value = "";

        try {
            const response = await fetch("/get_response", {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({ message: userInput })
            });
            if (!response.ok) {
                throw new Error("Network response was not ok");
            }
            const data = await response.json();
            appendMessage(data.response, "bot");
        } catch (error) {
            console.error("Error:", error);
            appendMessage("Bir hata oluştu. Lütfen tekrar deneyin.", "bot");
        }
    }
</script>

      
</body>
</html>
